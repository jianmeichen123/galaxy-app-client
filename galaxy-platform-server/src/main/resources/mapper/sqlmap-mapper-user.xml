<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.galaxyinternet.model.user.User">
   	<resultMap id="BaseResultMap" type="UserPO">
		 <id column="id" property="id" />
		 <result column="real_name" property="realName"  />
		 <result column="nick_name" property="nickName" jdbcType="VARCHAR" />
		 <result column="email"  property="email" />
		 <result column="mobile" property="mobile" />
		 <result column="telephone" property="telephone"  />
		 <result column="status" property="status"  />
		 <result column="type" property="type"  />
		 <id column="department_id" property="departmentId" />
		 
		 <result column="department_name" property="departmentName"  />
		 <result column="role_id" property="roleId"  />
		 <result column="role" property="role"  />
		 <result column="password" property="password"  />
		 <result column="origin_password" property="originPassword"  />
		 <result column="gender" property="gender" jdbcType="BIT" />
         <result column="is_admin" property="isAdmin" jdbcType="BIT" />
         <result column="birth" property="birth"  />
         <result column="address" property="address"  />
		 <result column="created_time" property="createdTime"  />
		 <result column="updated_time" property="updatedTime"  />

    
	</resultMap>
	
	<sql id="Base_Column_List">
        	id,
        	real_name,
        	nick_name,
        	email,
        	mobile,
        	telephone,
        	status,
        	type,
        	department_id,
        	department_name,
        	role_id,
        	role,
        	password,
        	origin_password,
        	gender,
        	is_admin,
        	birth,
        	address,
        	created_time,
        	updated_time
	</sql>

	<sql id="Base_Where_Clause">
		<where>
			<trim prefixOverrides="and">
				<if test="id != null"> and id =#{id}</if>
				<if test="realName != null"> and real_name like CONCAT("%",#{realName},"%")</if>
				<if test="email != null"> and email =#{email}</if>
				<if test="mobile != null"> and mobile like CONCAT("%",#{mobile},"%")</if>
				
				<if test="departmentId != null"> and department_id =#{departmentId}</if>
				<if test="departmentName != null"> and department_name like CONCAT("%",#{departmentName},"%")</if>
				<if test="roleId != null"> and role_id =#{roleId}</if>
				<if test="role != null"> and role =#{role}</if>
				
				<if test="status != null"> and status =#{status}</if>
				<if test="telephone != null"> and telephone =#{telephone}</if>
				<if test="createdTime != null"> and created_time =#{createdTime}</if>
				<if test="updatedTime != null"> and updated_time =#{updatedTime}</if>
				<!-- 模糊查询 -->
				<!-- <if test="nameLike != null">and name like CONCAT("%",#{nameLike},"%")</if> -->
			</trim>
		</where>
		<if test="sorting != null">order by ${sorting}</if>
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</sql>
	
	<!-- 查询总数 -->
	<select id="selectCount" resultType="java.lang.Long"
		parameterType="java.util.Map">
		select count(id) from t_user
		<include refid="Base_Where_Clause" />
	</select>

	<!-- 查询 -->
	<select id="select" resultMap="BaseResultMap" parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from t_user
		<include refid="Base_Where_Clause" />
	</select>

	<!-- 根据ID查询 -->
	<select id="selectById" resultMap="BaseResultMap" parameterType="java.lang.Long">
		select
		<include refid="Base_Column_List" />
		from t_user where id = #{id}
	</select>
	
  	<insert id="insert" parameterType="UserPO" >
	    <![CDATA[
	        insert into
	        t_user (
        	  id,
        	  real_name,
           	  nick_name,
        	  email,
        	  mobile,
        	  telephone,
        	  status,
        	  type,
        	  department_id,
        	  department_name,
        	  role_id,
        	  role,
        	  password,
        	  origin_password,
        	  gender,
        	  is_admin,
        	  birth,
        	  address,
        	  created_time
        	
	        ) values (
        	   #{id},
        	   #{realName},
        	   #{nickName},
        	   #{email},
        	   #{mobile},
        	   #{telephone},
        	   #{status},
        	   #{type},
        	   #{departmentId},
        	   #{departmentName},
        	   #{roleId},
        	   #{role},
        	   #{password},
        	   #{originPassword},
        	   #{gender},
        	   #{isAdmin},
        	   #{birth},
        	   #{address},
        	   #{createdTime}
	        )
	    ]]>
    </insert>
    
    <!-- 更新 -->
	<update id="updateByIdSelective" parameterType="UserPO">
		update t_user
		<set>
			<if test="realName != null">  real_name =#{realName},</if>
			<if test="nickName != null">  nick_name =#{nickName},</if>
			<if test="email != null">  email =#{email},</if>
			<if test="mobile != null">  mobile =#{mobile},</if>
			<if test="telephone != null">  telephone =#{telephone},</if>
			<if test="status != null">  status =#{status},</if>
			<if test="type != null">  type =#{type},</if>
			<if test="departmentId != null">  department_id =#{departmentId},</if>
			<if test="departmentName != null">  department_name =#{departmentName},</if>
			<if test="roleId != null">  role_id =#{roleId},</if>
			<if test="role != null">  role =#{role},</if>
			<if test="password != null">  password =#{password},</if>
			<if test="originPassword != null">  origin_password =#{originPassword},</if>
			<if test="gender != null">  gender =#{gender},</if>
			<if test="isAdmin != null">  isAdmin =#{isAdmin},</if>
			<if test="address != null">  address =#{address},</if>
			<if test="birth != null">  birth =#{birth},</if>
			<if test="createdTime != null">  created_time =#{createdTime},</if>
			<if test="updatedTime != null">  updated_time =#{updatedTime}</if>
		</set>
		<where>
			<trim prefixOverrides="and">
				<if test="id != null"> and id =#{id}</if>
				<if test="realName != null"> and real_name =#{realName}</if>
				<if test="nickName != null"> and nick_name =#{nickName}</if>
				<if test="email != null"> and email =#{email}</if>
				<if test="mobile != null"> and mobile =#{mobile}</if>
				<if test="telephone != null"> and telephone =#{telephone}</if>
				<if test="status != null"> and status =#{status}</if>
				<if test="type != null"> and type =#{type}</if>
				<if test="departmentId != null"> and department_id =#{departmentId}</if>
				<if test="departmentName != null"> and department_name =#{departmentName}</if>
				<if test="roleId != null"> and role_id =#{roleId}</if>
				<if test="role != null"> and role =#{role}</if>
				<if test="password != null"> and password =#{password}</if>
				<if test="originPassword != null"> and origin_password =#{originPassword}</if>
				<if test="gender != null"> and gender =#{gender}</if>
				<if test="isAdmin != null"> and isAdmin =#{isAdmin}</if>
				<if test="address != null"> and address =#{address}</if>
				<if test="birth != null"> and birth =#{birth}</if>
				<if test="createdTime != null"> and created_time =#{createdTime}</if>
				<if test="updatedTime != null"> and updated_time =#{updatedTime}</if>
			</trim>
		</where>
	</update>
    <!-- 通过ID更新 -->
	<update id="updateById" parameterType="UserPO">
		update t_user
		<set>
			<if test="realName != null">  real_name =#{realName},</if>
			<if test="nickName != null">  nick_name =#{nickName},</if>
			<if test="email != null">  email =#{email},</if>
			<if test="mobile != null">  mobile =#{mobile},</if>
			<if test="telephone != null">  telephone =#{telephone},</if>
			<if test="status != null">  status =#{status},</if>
			<if test="type != null">  type =#{type},</if>
			<if test="departmentId != null">  department_id =#{departmentId},</if>
			<if test="departmentName != null">  department_name =#{departmentName},</if>
			<if test="roleId != null"> and role_id =#{roleId}</if>
				<if test="role != null"> and role =#{role}</if>
			<if test="password != null">  password =#{password},</if>
			<if test="originPassword != null">  origin_password =#{originPassword},</if>
			<if test="gender != null">  gender =#{gender},</if>
			<if test="isAdmin != null">  isAdmin =#{isAdmin},</if>
			<if test="address != null">  address =#{address},</if>
			<if test="birth != null">  birth =#{birth},</if>
			<if test="createdTime != null">  created_time =#{createdTime},</if>
			<if test="updatedTime != null">  updated_time =#{updatedTime}</if>
		</set>
		where id = #{id}
	</update>
    
    <!-- 删除 -->
	<delete id="delete" parameterType="java.util.Map">
		delete from t_user
		<include refid="Base_Where_Clause" />
	</delete>
     <!-- 根据ID删除 -->
	<delete id="deleteById" parameterType="UserPO">
		delete from t_user where id = #{id}
	</delete>
</mapper>
